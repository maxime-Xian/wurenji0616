<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无人机电机工厂规划中心</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .module {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .module:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .module h3 {
            color: #667eea;
            font-size: 1.4rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .output-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .output-table th,
        .output-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .output-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #667eea;
        }

        .cost-breakdown {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .cost-item:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .timeline {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .timeline-date {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            margin-right: 15px;
            min-width: 80px;
            text-align: center;
        }

        .expansion-options {
            margin-top: 15px;
        }

        .expansion-option {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .expansion-option:hover {
            background: #e9ecef;
        }

        .expansion-option input {
            margin-right: 10px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: transform 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }

        .alert {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>无人机电机工厂规划中心</h1>
            <p>交互式设施设计与投资计算器</p>
        </div>

        <div class="modules-grid">
            <!-- 工厂配置模拟器 -->
            <div class="module">
                <h3>🏭 工厂配置模拟器</h3>
                <div class="input-group">
                    <label>月产量目标 (台):</label>
                    <input type="number" id="productionTarget" value="50000" onchange="updateFactoryConfig()">
                </div>
                <div class="input-group">
                    <label>布局偏好:</label>
                    <select id="layoutType" onchange="updateFactoryConfig()">
                        <option value="single">单层布局</option>
                        <option value="multi">多层布局</option>
                    </select>
                </div>
                
                <table class="output-table">
                    <tr>
                        <th>参数</th>
                        <th>数值</th>
                    </tr>
                    <tr>
                        <td>总面积 (m²)</td>
                        <td id="totalArea">3,500 m²</td>
                    </tr>
                    <tr>
                        <td>层高 (m)</td>
                        <td id="ceilingHeight">6.0m (地面), 4.5m+ (上层)</td>
                    </tr>
                    <tr>
                        <td>电力容量 (kW)</td>
                        <td id="powerCapacity">1,650 kW</td>
                    </tr>
                    <tr>
                        <td>扩展预留</td>
                        <td id="expansionReserve">700 m² (20% 缓冲)</td>
                    </tr>
                </table>
                
                <div class="alert">
                    <strong>提示:</strong> 多层布局优化轻量化工艺（装配/测试）在上层，重型机械（CNC）在地面层。
                </div>
            </div>

            <!-- 动态成本估算器 -->
            <div class="module">
                <h3>💰 动态成本估算器</h3>
                <div class="input-group">
                    <label>建设地区:</label>
                    <select id="region" onchange="updateCostEstimate()">
                        <option value="tier1">一线城市</option>
                        <option value="tier2">二线城市</option>
                        <option value="tier3">三线城市</option>
                    </select>
                </div>
                
                <div class="cost-breakdown">
                    <div class="cost-item">
                        <span>土地与建设</span>
                        <span id="constructionCost">$4.2M</span>
                    </div>
                    <div class="cost-item">
                        <span>机械与自动化</span>
                        <span id="machineryCost">$9.1M</span>
                    </div>
                    <div class="cost-item">
                        <span>应急费用 (15%)</span>
                        <span id="contingencyCost">$2.0M</span>
                    </div>
                    <div class="cost-item">
                        <span>总初始投资</span>
                        <span id="totalInvestment">$15.3M</span>
                    </div>
                </div>
                
                <button class="btn" onclick="generateBoE()">生成详细预算报告</button>
            </div>

            <!-- 时间规划器 -->
            <div class="module">
                <h3>📅 时间规划器</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">1-2月</div>
                        <div>场地评估与设计审批</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">3-4月</div>
                        <div>预算最终确定</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">5-10月</div>
                        <div>厂房建设</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">11-12月</div>
                        <div>设备安装与调试</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">次年1月</div>
                        <div>试生产启动</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 25%"></div>
                </div>
                <p style="margin-top: 10px; text-align: center; color: #666;">当前进度: 25% (设计阶段)</p>
            </div>

            <!-- 扩展场景模拟器 -->
            <div class="module">
                <h3>🚀 扩展场景模拟器</h3>
                <div class="expansion-options">
                    <div class="expansion-option" onclick="toggleExpansion('frames')">
                        <input type="checkbox" id="frameProduction">
                        <label>无人机机架生产线 (+800 m², +$2.2M)</label>
                    </div>
                    <div class="expansion-option" onclick="toggleExpansion('battery')">
                        <input type="checkbox" id="batteryLine">
                        <label>电池组装线 (+500 m², +$3.5M)</label>
                    </div>
                    <div class="expansion-option" onclick="toggleExpansion('testing')">
                        <input type="checkbox" id="testingFacility">
                        <label>高级测试设施 (+300 m², +$1.8M)</label>
                    </div>
                </div>
                
                <div class="alert">
                    <strong>影响分析:</strong>
                    <br>• 产能提升: <span id="capacityIncrease">+0</span> 台/月
                    <br>• ROI 延长: <span id="roiExtension">+0</span> 个月
                    <br>• 总投资: <span id="expandedInvestment">$15.3M</span>
                </div>
            </div>

            <!-- 资源与合规工具包 -->
            <div class="module">
                <h3>📋 资源与合规工具包</h3>
                <table class="output-table">
                    <tr>
                        <th>要求类型</th>
                        <th>标准</th>
                    </tr>
                    <tr>
                        <td>照明</td>
                        <td>300-500 lux (精密区), 200 lux (装配区)</td>
                    </tr>
                    <tr>
                        <td>洁净度</td>
                        <td>ISO Class 7 (装配), ISO Class 5 (PCB)</td>
                    </tr>
                    <tr>
                        <td>安全</td>
                        <td>电机支架减振 (SC3 橡胶)</td>
                    </tr>
                    <tr>
                        <td>温度控制</td>
                        <td>20-24°C ±2°C</td>
                    </tr>
                </table>
                
                <button class="btn btn-secondary" onclick="downloadChecklist()">下载合规检查清单</button>
                <button class="btn btn-secondary" onclick="generateReport()">生成完整报告</button>
            </div>

            <!-- 技术栈推荐 -->
            <div class="module">
                <h3>⚙️ 技术栈推荐</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 10px;">
                    <p><strong>前端:</strong> React.js + D3.js (交互图表)</p>
                    <p><strong>后端:</strong> Node.js + MongoDB (成本/时间数据)</p>
                    <p><strong>集成:</strong> Autodesk Navisworks API (4D可视化)</p>
                    <p><strong>部署:</strong> AWS/阿里云 + Docker</p>
                </div>
                
                <div class="alert" style="margin-top: 15px;">
                    <strong>为什么这样设计:</strong>
                    <br>• 符合价值流映射(VSM)原则，减少浪费
                    <br>• 使用预算基础(BoE)确保成本透明度
                    <br>• 支持多层物流规划，适应无人机组件工作流
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 40px;">
            <button class="btn" onclick="launchPrototype()">启动原型</button>
            <button class="btn btn-secondary" onclick="downloadTemplate()">下载完整BoE模板</button>
        </div>
    </div>

    <script>
        // 工厂配置更新
        function updateFactoryConfig() {
            const target = document.getElementById('productionTarget').value;
            const layout = document.getElementById('layoutType').value;
            
            const baseArea = Math.round(target * 0.07); // 每台需要0.07平方米
            const area = layout === 'multi' ? baseArea * 0.8 : baseArea; // 多层布局节省20%空间
            
            document.getElementById('totalArea').textContent = `${area.toLocaleString()} m²`;
            document.getElementById('powerCapacity').textContent = `${Math.round(target * 0.033)} kW`;
            document.getElementById('expansionReserve').textContent = `${Math.round(area * 0.2)} m² (20% 缓冲)`;
        }

        // 成本估算更新
        function updateCostEstimate() {
            const region = document.getElementById('region').value;
            const target = document.getElementById('productionTarget').value;
            
            let multiplier = 1;
            if (region === 'tier1') multiplier = 1.2;
            else if (region === 'tier2') multiplier = 1.0;
            else multiplier = 0.8;
            
            const construction = (4.2 * multiplier).toFixed(1);
            const machinery = (9.1 * multiplier).toFixed(1);
            const contingency = ((parseFloat(construction) + parseFloat(machinery)) * 0.15).toFixed(1);
            const total = (parseFloat(construction) + parseFloat(machinery) + parseFloat(contingency)).toFixed(1);
            
            document.getElementById('constructionCost').textContent = `$${construction}M`;
            document.getElementById('machineryCost').textContent = `$${machinery}M`;
            document.getElementById('contingencyCost').textContent = `$${contingency}M`;
            document.getElementById('totalInvestment').textContent = `$${total}M`;
        }

        // 扩展选项切换
        function toggleExpansion(type) {
            const checkbox = document.getElementById(type === 'frames' ? 'frameProduction' : 
                                                  type === 'battery' ? 'batteryLine' : 'testingFacility');
            checkbox.checked = !checkbox.checked;
            
            updateExpansionImpact();
        }

        function updateExpansionImpact() {
            let capacityIncrease = 0;
            let roiExtension = 0;
            let additionalCost = 0;
            
            if (document.getElementById('frameProduction').checked) {
                capacityIncrease += 20000;
                roiExtension += 8;
                additionalCost += 2.2;
            }
            
            if (document.getElementById('batteryLine').checked) {
                capacityIncrease += 15000;
                roiExtension += 10;
                additionalCost += 3.5;
            }
            
            if (document.getElementById('testingFacility').checked) {
                capacityIncrease += 5000;
                roiExtension += 4;
                additionalCost += 1.8;
            }
            
            const baseCost = parseFloat(document.getElementById('totalInvestment').textContent.replace('$', '').replace('M', ''));
            const totalCost = (baseCost + additionalCost).toFixed(1);
            
            document.getElementById('capacityIncrease').textContent = `+${capacityIncrease.toLocaleString()}`;
            document.getElementById('roiExtension').textContent = `+${roiExtension}`;
            document.getElementById('expandedInvestment').textContent = `$${totalCost}M`;
        }

        // 功能按钮
        function generateBoE() {
            alert('正在生成详细预算报告...\n\n包含内容:\n• 详细成本分解\n• 供应商报价\n• 风险评估\n• 现金流预测');
        }

        function downloadChecklist() {
            alert('正在下载合规检查清单...\n\n包含内容:\n• 安全标准检查\n• 环保要求\n• 建筑规范\n• 设备认证');
        }

        function generateReport() {
            alert('正在生成完整报告...\n\n报告将包含:\n• 工厂设计方案\n• 投资分析\n• 时间规划\n• 风险评估\n• 合规要求');
        }

        function launchPrototype() {
            alert('启动原型系统...\n\n功能包括:\n• 3D工厂布局可视化\n• 实时成本计算\n• 甘特图时间规划\n• 设备配置优化');
        }

        function downloadTemplate() {
            alert('正在下载BoE模板...\n\n模板包含:\n• Excel成本计算表\n• 项目时间表\n• 风险评估矩阵\n• 供应商评估表');
        }

        // 初始化
        updateFactoryConfig();
        updateCostEstimate();
    </script>
</body>
</html>